# ğŸš€Rocket

yansongda/pay å°† `è¾“å…¥å‚æ•°`ã€`è¯·æ±‚`ã€`åŸå§‹å“åº”`ã€`æœ€ç»ˆå“åº”` æŠ½è±¡æˆäº†ä¸€ç§ç±»å‹ `Rocket`ï¼Œ
åœ¨ Pay é¡¹ç›®ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®æ‰­è½¬éƒ½æ˜¯é€šè¿‡ Rocket æ¥å®ç°çš„ã€‚

`Rocket` ä¹Ÿæ˜¯ç”±ä¸åŒçš„å±æ€§ç»„æˆçš„ï¼Œç°ä¸€ä¸€é“æ¥

## ğŸ“¡ Radar

å¯ä»¥ç†è§£ä¸ºæ˜¯ ğŸš€ çš„ `é›·è¾¾`ï¼Œè´Ÿè´£å¯¼èˆªä½¿ç”¨ã€‚

è¯¥å±æ€§ï¼Œå®é™…ä¸Šæœ€ç»ˆä¸ºä¸€ä¸ª `\Psr\Http\Message\RequestInterface` å¯¹è±¡ï¼Œ
å…·ä½“åˆ°é¡¹ç›®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå°±æ˜¯ `\Yansongda\Pay\Request`ã€‚

æ‰€æœ‰éœ€è¦è¯·æ±‚æ”¯ä»˜ä¾›åº”å•† API çš„æ–¹æ³•ï¼Œæœ€ç»ˆéƒ½ä¼šä½¿ç”¨è¿™ä¸ª ğŸ“¡ ï¼Œå»è°ƒç”¨ http æ¥å£è¯·æ±‚æ”¯ä»˜ä¾›åº”å•†çš„ APIã€‚

## ğŸ›  Params

è¯¥å±æ€§ä¸º `array`ï¼Œå®é™…å­˜å‚¨çš„å°±æ˜¯è¾“å…¥çš„æ‰€æœ‰å‚æ•°ã€‚

ä¾‹å¦‚ æŸ¥è¯¢é€€æ¬¾ ä¸­çš„

```php
[
    'out_trade_no' => '1514027114',
    'out_request_no' => '1514027114',
    '_type' => 'refund',
];
```

Pay é¡¹ç›®ä¸­ï¼Œå°†æ‰€æœ‰ä»¥ _ä¸‹åˆ’çº¿_ å¼€å§‹çš„å‚æ•°éƒ½å®šä¹‰ä¸º `ç‰¹æ®Šå‚æ•°`ï¼Œæ­¤ç±»å‚æ•° **ä¸€å®šä¸ä¼šåœ¨ payload ä¸­å‡ºç°**ï¼Œ
ä»…ä¼šç”¨äºç‰¹æ®Šå‚æ•°åˆ¤æ–­ã€‚

## âš™ï¸ Payload

è¯¥å±æ€§ç±»å‹ä¸º `\Yansongda\Supports\Collection`ï¼Œæ˜¯ ğŸš€ çš„ `æœ‰æ•ˆè½½è·`ï¼Œ
å®é™…å­˜å‚¨çš„æ˜¯æ‰€æœ‰éœ€è¦è¯·æ±‚ç»™æ”¯ä»˜ä¾›åº”å•†çš„æ‰€æœ‰å‚æ•°ã€‚

:::warning
æ³¨æ„ï¼Œpayload å’Œ params æ˜¯ä¸ä¸€æ ·çš„ï¼Œparams å­˜å‚¨çš„æ˜¯åŸå°ä¸åŠ¨çš„è¾“å…¥å‚æ•°ï¼Œpayload æ˜¯ç»è¿‡ä¸€ç³»åˆ—æ’ä»¶ "è¿‡æ»¤" åçš„ æœ‰æ•ˆè½½è·ã€‚ 
:::

## ğŸ— Direction

ğŸš€ çš„æ–¹å‘ã€‚

å®é™…çš„ä½œç”¨ä¸ºï¼šæŠŠæ§æœ€ç»ˆè¯·æ±‚éœ€è¦è§£åŒ…çš„ç±»å‹

ä¾‹å¦‚ï¼Œæ”¯ä»˜å®ç”µè„‘æ”¯ä»˜ä¸­ï¼Œå…¶æœ€ç»ˆè¿”å›çš„æ˜¯ä¸€ä¸ª `Response` å¯¹è±¡ï¼Œä¸éœ€è¦ç›´æ¥åç«¯ http è¯·æ±‚æ”¯ä»˜å®æ¥å£çš„ï¼Œ
æ‰€ä»¥å½“ä½¿ç”¨æ”¯ä»˜å®ç”µè„‘æ”¯ä»˜æ—¶ï¼Œå…¶ Direction ä¸º `Yansongda\Pay\Parser\ResponseParser::class`ã€‚

ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå‡é»˜è®¤ä¸ºï¼š`Yansongda\Pay\Parser\CollectionParser::class`

## ğŸŒŸ ï¸Destination

ğŸš€ çš„ç›®çš„åœ°ã€‚

å®é™…ä½œç”¨ä¸ºï¼šæœ€ç»ˆè¿”å›çš„ç±»

`Destination` å’Œ `Direction` å¯†åˆ‡ç›¸å…³ã€‚ `Direction` ç›´æ¥å†³å®šè¿™ `Destination` çš„å€¼å’Œç±»å‹ã€‚

- å½“ Direction ä¸º CollectionParser æ—¶
  
    Destination æœ€ç»ˆè¿”å›çš„æ˜¯ Collection å¯¹è±¡

- å½“ Direction ä¸º ResponseParser æ—¶
  
    Destination æœ€ç»ˆè¿”å›çš„æ˜¯ Response å¯¹è±¡
  
- å½“ Direction ä¸º ArrayParser æ—¶
  
    Destination æœ€ç»ˆè¿”å›çš„æ˜¯ array æ•°ç»„

- å½“ Direction ä¸º JsonParser æ—¶
  
    Destination æœ€ç»ˆè¿”å›çš„æ˜¯ string

- å½“ Direction ä¸º NoHttpRequestParser æ—¶

    Destination æœ€ç»ˆè¿”å›çš„æ˜¯ åŸæ ·çš„ Radar

- å½“ Direction ä¸º OriginResponseParser æ—¶

  Destination æœ€ç»ˆè¿”å›çš„æ˜¯ Rocket ä¸­çš„ DestinationOrigin

## âœ¨ DestinationOrigin

ğŸš€ çš„åŸå§‹ç›®çš„åœ°ã€‚

å®é™…ä½œç”¨ä¸ºï¼šå½“è¯·æ±‚æ”¯ä»˜ä¾›åº”å•†çš„ http æ¥å£åçš„åŸå§‹ Response
